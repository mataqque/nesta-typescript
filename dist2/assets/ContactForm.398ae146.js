var n=Object.defineProperty;var c=(i,a,e)=>a in i?n(i,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[a]=e;var s=(i,a,e)=>(c(i,typeof a!="symbol"?a+"":a,e),e);import{r as m,j as t,a as o,v as h}from"./app.ffd1c258.js";import{S as u,I as l}from"./Input.1cd47341.js";import{I as v,C as p}from"./Checkbox.bff40f47.js";import{S as r}from"./Selectbox.3ec5e5af.js";const V="/assets/nesta-car.87618f53.svg",x=i=>o("div",{className:"col-md-12 mt-2 d-flex justify-content-center align-items-center",children:[t("div",{className:"nestaCar",style:{backgroundImage:`url(${V})`}}),t("span",{translate:"no",className:"ml-2",children:"Contamos con estacionamientos exclusivos para clientes en la Sala de Ventas"})]});class _ extends m.exports.Component{constructor(e){super(e);s(this,"_interestedService");s(this,"validator");s(this,"clearInputs",()=>{this.setState({activateValid:"",startValid:"",txtname:"",txtlastname:"",txttelephone:"",txtemail:"",selectdoc:"2",txtdocnumber:"",dormsSelected1:!1,dormsSelected2:!1,dormsSelected3:!1,birth_date:"",termsConditions:!1,styleValid:"accepted",disabledButton:!1,decide_time:null,district:null})});s(this,"submitForm",()=>{this.setState({startValid:"",activateValid:"active"}),this.validator.allValid()?this.handleCreate():this.setState({startValid:"activate"})});s(this,"setStateFromInput",e=>{var d={};d[e.target.name]=e.target.value,this.setState(d)});s(this,"setStateFromCbo",e=>{this.setState(e),setTimeout(()=>this.checkValCheckbox(),100)});s(this,"checkValCheckbox",()=>{this.state.dormsSelected1||this.state.dormsSelected2||this.state.dormsSelected3?this.setState({styleValid:""}):this.setState({styleValid:"accepted"})});this._interestedService=new v,this.validator=new u,this.state={activateValid:"",startValid:"",txtname:"",txtlastname:"",txttelephone:"",txtemail:"",selectdoc:"1",txtdocnumber:"",dormsSelected1:!1,dormsSelected2:!1,dormsSelected3:!1,termsConditions:!1,birth_date:"",styleValid:"accepted",disabledButton:!1,decide_time:null,district:null}}handleCreate(){this.setState({disabledButton:!0}),document.querySelector("form button").innerText="Enviando...",this._interestedService.withInterested({fname:this.state.txtname,lname:this.state.txtlastname,email:this.state.txtemail,phone:this.state.txttelephone,document_type_id:this.state.selectdoc,document:this.state.txtdocnumber,district:this.state.district,decide_time:this.state.decide_time,date_of_birth:this.state.birth_date,project_id:8,rooms:[this.state.dormsSelected1&&"1 dorm",this.state.dormsSelected2&&"2 dorms",this.state.dormsSelected3&&"3 dorms"].filter(Boolean).join(", ")}).send().then(e=>{let d="";document.querySelector("form button").innerText="Enviado",window.gtag("event","conversion",{send_to:"AW-811712721/WnK-CO_EsX8Q0YGHgwM"}),setTimeout(()=>{if(e.last_agent_assigned.phone){d="?seller_phone="+e.last_agent_assigned.phone.replace(/\s/g,"");return}window.location.href=`/gracias${d}`},1e3)},e=>{document.querySelector("form button").innerText="Error",console.error(e.response),this.setState({disabledButton:!1})})}render(){return t("form",{id:"contacto",className:"contact-form c-second  geomanist-regular"+this.state.activateValid,children:o("div",{className:"form-row",children:[t("div",{className:"col-md-12 col-lg-4",children:t(l,{type:"text",name:"txtname",estado:this.state.txtname,setValueTxt:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required",placeholder:"Nombres *",activateValid:this.state.activateValid})}),t("div",{className:"col-md-12 col-lg-4",children:t(l,{type:"text",name:"txtlastname",estado:this.state.txtlastname,setValueTxt:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required",placeholder:"Apellidos *",activateValid:this.state.activateValid})}),t("div",{className:"col-md-12 col-lg-4",children:t(l,{type:"email",name:"txtemail",estado:this.state.txtemail,setValueTxt:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required|email",placeholder:"Email *",activateValid:this.state.activateValid})}),t("div",{className:"col-md-12 col-lg-4",children:t(l,{type:"tel",name:"txttelephone",estado:this.state.txttelephone,setValueTxt:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required|numeric|min:7|max:9",placeholder:"Celular *",activateValid:this.state.activateValid})}),t("div",{className:"col-md-12 col-lg-4",children:t("div",{className:"form-group group-doc",children:o("div",{className:"input-group",children:[t("div",{className:"input-group-prepend",children:t(r,{options:[{value:"1",name:"DNI"},{value:"2",name:"CE"}],name:"selectdoc",estado:this.state.selectdoc,setValueCbo:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required",formGroup:!1,activateValid:this.state.activateValid})}),t(l,{type:"tel",name:"txtdocnumber",estado:this.state.txtdocnumber,setValueTxt:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required|numeric|min:7|max:9",formGroup:!1,placeholder:"N\xFAmero*",activateValid:this.state.activateValid})]})})}),t("div",{className:"col-md-12 col-lg-4",children:t(l,{type:"text",name:"district",estado:this.state.district,setValueTxt:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required",placeholder:"Distrito donde reside *",activateValid:this.state.activateValid})}),t("div",{className:"col-md-12 col-lg-4",children:t(l,{type:"date",max:"2007-01-01",name:"birth_date",estado:this.state.birth_date,setValueTxt:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required",placeholder:"Fecha de nacimiento *",activateValid:this.state.activateValid})}),t("div",{className:"col-md-12 col-lg-4",children:t(r,{options:[{value:"",name:"\xBFEn qu\xE9 modelo est\xE1s interesado?*"},{value:"1 Dormitorio",name:"1 Dormitorio"},{value:"2 Dormitorios",name:"2 Dormitorios"},{value:"3 Dormitorios",name:"3 Dormitorios"}],name:"decide_time",estado:this.state.decide_time,setValueCbo:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required",placeholder:"\xBFEn qu\xE9 modelo est\xE1s interesado?*",activateValid:this.state.activateValid})}),t("div",{className:"col-md-12 col-lg-4",children:t(r,{options:[{value:"",name:"\xBFEn cu\xE1nto tiempo decide su compra? *"},{value:"Menor a 3 meses",name:"Menor a 3 meses"},{value:"Entre 3 y 6 meses",name:"Entre 3 y 6 meses"},{value:"Mayor a 6 meses",name:"Mayor a 6 meses"}],name:"decide_time",estado:this.state.decide_time,setValueCbo:this.setStateFromInput,validator:this.validator,startValid:this.state.startValid,styleValid:"required",placeholder:"\xBFEn cu\xE1nto tiempo decide su compra? *",activateValid:this.state.activateValid})}),t("div",{className:"col-md-12 mt-2 d-flex justify-content-center",children:t(p,{id:"terminos_condiciones",name:"termsConditions",estado:this.state.termsConditions,setValueTxt:this.setStateFromCbo,validator:this.validator,startValid:this.state.startValid,styleValid:"accepted",text:["He le\xEDdo y acepto la ",t("a",{href:h,className:"text-decoration-none geomanist-bold c-second",target:"_blank",rel:"noopener noreferrer",children:"\xA0pol\xEDtica de datos personales"})],value:"1",activateValid:this.state.activateValid})}),this.props.nestaCar?t(x,{}):null,t("div",{className:"col-md-12 mt-3 d-flex justify-content-center",children:t("button",{className:"btn-nesta btn-green btn-wsp outline",type:"button",disabled:this.state.disabledButton,onClick:e=>this.submitForm(e),children:"Enviar"})})]})})}}export{_ as C};
